---
title: 微信公众号关注后返回，如何判断已经返回到自己的页面？
url: 186.html
id: 186
categories:
  - 未分类
date: 2019-02-02 11:06:44
tags:
---

识别二维码之后，页面就自动去了公众号关注的页面，关注完成后，按物理回退按键回退到显示二维码的页面，这个时候用户信息显示还是未关注。之前一直想不通怎么判断回到了这个页面，监听回退事件也不行，因为回退的是二维码的关注页面。结果忘了window的focus事件，监听触发这个事件就可以了。触发这个事件的时候判断是不是显示了二维码图片，如果是就重新加载入口的地址，重新获取用户信息是不是已经关注。 `window.addEventListener('focus', function(){});`