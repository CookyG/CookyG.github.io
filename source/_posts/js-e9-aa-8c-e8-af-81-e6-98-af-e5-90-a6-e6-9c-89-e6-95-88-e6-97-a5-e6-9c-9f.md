---
title: js 验证是否有效日期
url: 171.html
id: 171
categories:
  - js
date: 2018-11-27 17:02:05
tags:
---

**js 验证是否有效日期**
===============

通常来说，javascript验证日期的有效性可以通过正则判断 但正则表达式无法精准验证日期的有效性，你无法通过正则表达式判断出1900-02-29是非法日期而2000-02-29是合法日期，而且正则表达式匹配起来比较繁琐。 要想精确验证，最容易想到的方法就是通过月份判断日期是否合法(1~28/29/30/31),你可以用一个数组表示每月的天数，如daysInMonth=\[31,28,31,30,31,30,31,31,30,31,30,31\],但你会发现daysInMonth\[1\]这个值可能是28或29，你又要写一个判断闰年的函数来解决这个问题...... 这至少要花费20行以上的代码来完成这件事，而通过javascript中的Date对象，我们只需要1行代码即可完成上述功能。 function check(date){ return (new Date(date).getDate()==date.substring(date.length-2)); } date为一个待检查的类日期字符串（如2013-01-01、2013/01/01、2013/01/32、2013/02/29）,不论这个字符串是否正确 通过新建的Date对象(new Date(date))，可以识别出该日期是否正确，如果不正确则返回Invalid Date 但这样会有一个bug，当日期的值在1-31之间，new Date总返回一个新的对象，不论该月份是否存在这个日期(如2013-02-30将返回日期对象Sat Mar 02 2013 08:00:00 GMT+0800 (中国标准时间))，返回结果是下个月的日期而不报错 所以要用getDate()方法获取日期(new Date('2013-02-30')对象的getDate()方法将返回2) date.substring(date.length-2)会获取到字符串最后两位也就是日期的部分，这与Date对象的日期部分做比较，如果相等则说明日期有效，否则为无效日期 如果日期无效则'=='左边值为NaN，右边无论是什么(''、null、undefined、NaN等)结果都为false